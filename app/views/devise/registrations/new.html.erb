<%= console %>
<% content_for :skip_flash_messages do %>
  <%# This block is intentionally left blank %>
<% end %>
<%# <h2>Sign up</h2> %>

<%# Form Page Structure %>
<div class="flex flex-row w-screen h-screen bg-gray-100 items-center justify-evenly">

<%# Logo in the left side of the page %>
  <div class="flex h-40  w-1/3 items-center justify-center">
    <%= image_tag "gather-logo.png" %>
  </div>

<%# Form Structure on the right side of the page %>
<div class="flex flex-col w-2/3 items-center justify-center ">
<%= form_for(resource, :html => { :style => 'width:400px;',id:"signup" }, as: resource_name, url: registration_path(resource_name)) do |form| %>

  <%= render "devise/shared/error_messages", resource: resource %>

  
  <div class="field  my-3">
    <%= form.label :name %><br />
    <%# <div class="w-1/2"> %>
    <%= form.text_field :name, autofocus: true, autocomplete: "name",class:"border border-black w-3/4" %>
    <%# </div> %>
  </div>

  <div class="flex">
    <div class="field my-3">
      <%= form.label :contact_number %><br />
      <%= form.text_field :contact_number, autofocus: true, autocomplete: "contact_number" ,class:"border border-black w-3/4" %>
    </div>

  

  <div class="field my-3">
    <%= form.label :date_of_birth %><br />
    <%= form.date_field :date_of_birth, autofocus: true, autocomplete: "date_of_birth" %>
  </div>
</div>

<div class="flex" >

        

        <div class="field my-3 w-1/2">
                  <%= form.label :state %><br />
                  <%= form.select :state,options_for_select(CS.states(:in).invert,@selected_state) ,{include_blank: true}, id:"selected_input"%>
                   
        </div>

       <div class="field my-3 w-1/2 ml-2" id="city-list">
            <%= form.label :city %><br />
            

            <%= form.select :city,options_for_select(@selected_state.present? ? (CS.cities(@selected_state, :in)) : [['No options available', '']]), { include_blank: true },class:"border border-black w-3/4 ", id:"select_city" %>
        </div>
</div>


  

  <div class="field my-3">
    <%= form.label :email %><br />
    <%= form.email_field :email, autofocus: true, autocomplete: "email",class:"border border-black w-3/4" %>
  </div>

<%# Password Field %>
  <div class="field my-3">
    <%= form.label :password %>
    <% if @minimum_password_length %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= form.password_field :password, autocomplete: "new-password",class:"border border-black w-3/4" %>
  </div>


<%# Password Confirmation Field %>
  <div class="field my-3">
    <%= form.label :password_confirmation %><br />
    <%= form.password_field :password_confirmation, autocomplete: "new-password",class:"border border-black w-3/4" %>
  </div>

  

<%# Submit Button %>
  <div class="actions flex justify-start items-baseline">
    <%= form.submit "Sign up", class:"border border-black px-4 py-2 my-5 text-white bg-black w-1/2 mx-5 justify-start  hover:scale-90 duration-300 "%>

<%# Login Button %>
  <%= render "devise/shared/links", class:"hover:underline " %>
    
  </div>

<% end %>



</div>
</div>

<script>
errorblock=document.getElementById("error_explanation")

state_input=document.getElementById("selected_input")
console.log(state_input.value)

errorblock.classList.add("invisible")
// console.log(params[:user]"hello")

</script>

 

